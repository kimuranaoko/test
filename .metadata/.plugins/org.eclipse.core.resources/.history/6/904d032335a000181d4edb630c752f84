package com.internousdev.ecsite.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

import com.internousdev.ecsite.dto.UserContentsDTO;
import com.internousdev.ecsite.util.DBConnector;
import com.internousdev.ecsite.util.DateUtil;


public class UserContentsDAO {

	private DBConnector dbConnector = new DBConnector();
	private Connection connection = dbConnector.getConnection();
	private DateUtil dateUtil = new DateUtil();

	public UserContentsDTO getUserContents(int id) throws SQLException{
		UserContentsDTO dto = new UserContentsDTO();
		String sql="SELECT id,login_id,login_pass,user_name,insert_date,update_date FROM login_user_transaction WHERE id = ? ORDER BY id";
		try{
			PreparedStatement preparedStatement;
			preparedStatement = connection.prepareStatement(sql);
			preparedStatement.setInt(1, id);
			ResultSet resultSet = preparedStatement.executeQuery();

			if(resultSet.next()){
				dto.setId(id);
				dto.setLoginId("login_id");
				dto.setLoginPass("loginPass");
				dto.setUserName("userName");
				dto.setInsert_date("insert_date");
				if(null == resultSet.getString("update_date")){
					dto.setUpdate_date("---");
				}else{
				dto.setUpdate_date("update_date");
				}

			}
		}catch(Exception e){
			e.printStackTrace();
		}finally{
			connection.close();
		}
		return dto;


	}
}
